(self.webpackChunkbangumi_app=self.webpackChunkbangumi_app||[]).push([[4345],{"./node_modules/.pnpm/@heroicons+react@2.0.17_react@18.2.0/node_modules/@heroicons/react/20/solid/BookmarkIcon.js":(module,__unused_webpack_exports,__webpack_require__)=>{const React=__webpack_require__("./node_modules/.pnpm/react@18.2.0/node_modules/react/index.js");const ForwardRef=React.forwardRef((function BookmarkIcon({title,titleId,...props},svgRef){return React.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true",ref:svgRef,"aria-labelledby":titleId},props),title?React.createElement("title",{id:titleId},title):null,React.createElement("path",{fillRule:"evenodd",d:"M10 2c-1.716 0-3.408.106-5.07.31C3.806 2.45 3 3.414 3 4.517V17.25a.75.75 0 001.075.676L10 15.082l5.925 2.844A.75.75 0 0017 17.25V4.517c0-1.103-.806-2.068-1.93-2.207A41.403 41.403 0 0010 2z",clipRule:"evenodd"}))}));module.exports=ForwardRef},"./node_modules/.pnpm/@heroicons+react@2.0.17_react@18.2.0/node_modules/@heroicons/react/20/solid/TableCellsIcon.js":(module,__unused_webpack_exports,__webpack_require__)=>{const React=__webpack_require__("./node_modules/.pnpm/react@18.2.0/node_modules/react/index.js");const ForwardRef=React.forwardRef((function TableCellsIcon({title,titleId,...props},svgRef){return React.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true",ref:svgRef,"aria-labelledby":titleId},props),title?React.createElement("title",{id:titleId},title):null,React.createElement("path",{fillRule:"evenodd",d:"M.99 5.24A2.25 2.25 0 013.25 3h13.5A2.25 2.25 0 0119 5.25l.01 9.5A2.25 2.25 0 0116.76 17H3.26A2.267 2.267 0 011 14.74l-.01-9.5zm8.26 9.52v-.625a.75.75 0 00-.75-.75H3.25a.75.75 0 00-.75.75v.615c0 .414.336.75.75.75h5.373a.75.75 0 00.627-.74zm1.5 0a.75.75 0 00.627.74h5.373a.75.75 0 00.75-.75v-.615a.75.75 0 00-.75-.75H11.5a.75.75 0 00-.75.75v.625zm6.75-3.63v-.625a.75.75 0 00-.75-.75H11.5a.75.75 0 00-.75.75v.625c0 .414.336.75.75.75h5.25a.75.75 0 00.75-.75zm-8.25 0v-.625a.75.75 0 00-.75-.75H3.25a.75.75 0 00-.75.75v.625c0 .414.336.75.75.75H8.5a.75.75 0 00.75-.75zM17.5 7.5v-.625a.75.75 0 00-.75-.75H11.5a.75.75 0 00-.75.75V7.5c0 .414.336.75.75.75h5.25a.75.75 0 00.75-.75zm-8.25 0v-.625a.75.75 0 00-.75-.75H3.25a.75.75 0 00-.75.75V7.5c0 .414.336.75.75.75H8.5a.75.75 0 00.75-.75z",clipRule:"evenodd"}))}));module.exports=ForwardRef},"./node_modules/.pnpm/@heroicons+react@2.0.17_react@18.2.0/node_modules/@heroicons/react/24/outline/ChatBubbleLeftRightIcon.js":(module,__unused_webpack_exports,__webpack_require__)=>{const React=__webpack_require__("./node_modules/.pnpm/react@18.2.0/node_modules/react/index.js");const ForwardRef=React.forwardRef((function ChatBubbleLeftRightIcon({title,titleId,...props},svgRef){return React.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true",ref:svgRef,"aria-labelledby":titleId},props),title?React.createElement("title",{id:titleId},title):null,React.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M20.25 8.511c.884.284 1.5 1.128 1.5 2.097v4.286c0 1.136-.847 2.1-1.98 2.193-.34.027-.68.052-1.02.072v3.091l-3-3c-1.354 0-2.694-.055-4.02-.163a2.115 2.115 0 01-.825-.242m9.345-8.334a2.126 2.126 0 00-.476-.095 48.64 48.64 0 00-8.048 0c-1.131.094-1.976 1.057-1.976 2.192v4.286c0 .837.46 1.58 1.155 1.951m9.345-8.334V6.637c0-1.621-1.152-3.026-2.76-3.235A48.455 48.455 0 0011.25 3c-2.115 0-4.198.137-6.24.402-1.608.209-2.76 1.614-2.76 3.235v6.226c0 1.621 1.152 3.026 2.76 3.235.577.075 1.157.14 1.74.194V21l4.155-4.155"}))}));module.exports=ForwardRef},"./node_modules/.pnpm/@heroicons+react@2.0.17_react@18.2.0/node_modules/@heroicons/react/24/outline/StarIcon.js":(module,__unused_webpack_exports,__webpack_require__)=>{const React=__webpack_require__("./node_modules/.pnpm/react@18.2.0/node_modules/react/index.js");const ForwardRef=React.forwardRef((function StarIcon({title,titleId,...props},svgRef){return React.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true",ref:svgRef,"aria-labelledby":titleId},props),title?React.createElement("title",{id:titleId},title):null,React.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M11.48 3.499a.562.562 0 011.04 0l2.125 5.111a.563.563 0 00.475.345l5.518.442c.499.04.701.663.321.988l-4.204 3.602a.563.563 0 00-.182.557l1.285 5.385a.562.562 0 01-.84.61l-4.725-2.885a.563.563 0 00-.586 0L6.982 20.54a.562.562 0 01-.84-.61l1.285-5.386a.562.562 0 00-.182-.557l-4.204-3.602a.563.563 0 01.321-.988l5.518-.442a.563.563 0 00.475-.345L11.48 3.5z"}))}));module.exports=ForwardRef},"./node_modules/.pnpm/@heroicons+react@2.0.17_react@18.2.0/node_modules/@heroicons/react/24/solid/StarIcon.js":(module,__unused_webpack_exports,__webpack_require__)=>{const React=__webpack_require__("./node_modules/.pnpm/react@18.2.0/node_modules/react/index.js");const ForwardRef=React.forwardRef((function StarIcon({title,titleId,...props},svgRef){return React.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true",ref:svgRef,"aria-labelledby":titleId},props),title?React.createElement("title",{id:titleId},title):null,React.createElement("path",{fillRule:"evenodd",d:"M10.788 3.21c.448-1.077 1.976-1.077 2.424 0l2.082 5.007 5.404.433c1.164.093 1.636 1.545.749 2.305l-4.117 3.527 1.257 5.273c.271 1.136-.964 2.033-1.96 1.425L12 18.354 7.373 21.18c-.996.608-2.231-.29-1.96-1.425l1.257-5.273-4.117-3.527c-.887-.76-.415-2.212.749-2.305l5.404-.433 2.082-5.006z",clipRule:"evenodd"}))}));module.exports=ForwardRef},"./components/Rating/Rating.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{i:()=>Rating});var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/.pnpm/react@18.2.0/node_modules/react/index.js"),_ui_components_Rating__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./ui/components/Rating.tsx"),__jsx=react__WEBPACK_IMPORTED_MODULE_0__.createElement,Rating=function Rating(_ref){var score=_ref.score;return __jsx(_ui_components_Rating__WEBPACK_IMPORTED_MODULE_1__.i,{score,maxScore:10,totalIconCount:5,color:"accent"})};Rating.displayName="Rating",Rating.__docgenInfo={description:"",methods:[],displayName:"Rating",props:{score:{required:!0,tsType:{name:"number"},description:""}}};try{Rating.displayName="Rating",Rating.__docgenInfo={description:"",displayName:"Rating",props:{score:{defaultValue:null,description:"",name:"score",required:!0,type:{name:"number"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["components/Rating/Rating.tsx#Rating"]={docgenInfo:Rating.__docgenInfo,name:"Rating",path:"components/Rating/Rating.tsx#Rating"})}catch(__react_docgen_typescript_loader_error){}},"./ui/components/Card.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{CS:()=>CardImageContainer,GK:()=>CardTagGroup,Ol:()=>CardHeader,Zb:()=>Card,cq:()=>CardInfoItem,eW:()=>CardBody,iR:()=>CardFooter,ll:()=>CardTitle,tg:()=>CardInfo,vz:()=>CardButtonGroup});var C_Users_z7155_WebstormProjects_dev_bangumi_dashboard_node_modules_pnpm_babel_runtime_7_21_0_node_modules_babel_runtime_helpers_esm_objectWithoutProperties_js__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("./node_modules/.pnpm/@babel+runtime@7.21.0/node_modules/@babel/runtime/helpers/esm/objectWithoutProperties.js"),C_Users_z7155_WebstormProjects_dev_bangumi_dashboard_node_modules_pnpm_babel_runtime_7_21_0_node_modules_babel_runtime_helpers_esm_extends_js__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./node_modules/.pnpm/@babel+runtime@7.21.0/node_modules/@babel/runtime/helpers/esm/extends.js"),react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/.pnpm/react@18.2.0/node_modules/react/index.js"),_lib_utils__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./lib/utils.ts"),_classed_config__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./classed.config.ts"),_ui_components_Tooltip__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./ui/components/Tooltip.tsx"),_tw_classed_react__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./node_modules/.pnpm/@tw-classed+react@1.4.4_react@18.2.0/node_modules/@tw-classed/react/dist/index.mjs"),_excluded=["className","mainTitle","subTitle"],__jsx=react__WEBPACK_IMPORTED_MODULE_0__.createElement,CardContent=(0,_classed_config__WEBPACK_IMPORTED_MODULE_2__.t)("div","group flex w-[30rem] select-none overflow-hidden rounded-2xl bg-neutral-2 ring-1 ring-neutral-6 h-[200px]"),Card=(0,_tw_classed_react__WEBPACK_IMPORTED_MODULE_4__.A3)((function(props,ref){return __jsx(_ui_components_Tooltip__WEBPACK_IMPORTED_MODULE_3__.p,null,__jsx(CardContent,(0,C_Users_z7155_WebstormProjects_dev_bangumi_dashboard_node_modules_pnpm_babel_runtime_7_21_0_node_modules_babel_runtime_helpers_esm_extends_js__WEBPACK_IMPORTED_MODULE_5__.Z)({ref},props)))})),CardImageContainer=(0,_classed_config__WEBPACK_IMPORTED_MODULE_2__.t)("div","relative aspect-[75/106] h-full"),CardBody=(0,_classed_config__WEBPACK_IMPORTED_MODULE_2__.t)("div","w-full px-4 py-2"),CardHeader=(0,_classed_config__WEBPACK_IMPORTED_MODULE_2__.t)("div","flex items-center justify-between"),CardTitle=(0,react__WEBPACK_IMPORTED_MODULE_0__.forwardRef)((function(_ref,ref){var className=_ref.className,mainTitle=_ref.mainTitle,subTitle=_ref.subTitle,props=(0,C_Users_z7155_WebstormProjects_dev_bangumi_dashboard_node_modules_pnpm_babel_runtime_7_21_0_node_modules_babel_runtime_helpers_esm_objectWithoutProperties_js__WEBPACK_IMPORTED_MODULE_6__.Z)(_ref,_excluded);return __jsx("div",(0,C_Users_z7155_WebstormProjects_dev_bangumi_dashboard_node_modules_pnpm_babel_runtime_7_21_0_node_modules_babel_runtime_helpers_esm_extends_js__WEBPACK_IMPORTED_MODULE_5__.Z)({ref,className:(0,_lib_utils__WEBPACK_IMPORTED_MODULE_1__.cn)("w-52",className)},props),__jsx(CardTitleMain,null,mainTitle),__jsx(CardTitleSub,null,subTitle))}));CardTitle.displayName="CardTitle";var CardTitleMain=(0,_classed_config__WEBPACK_IMPORTED_MODULE_2__.t)("div","truncate text-xl font-bold text-neutral-12"),CardTitleSub=(0,_classed_config__WEBPACK_IMPORTED_MODULE_2__.t)("div","truncate text-xs font-medium text-neutral-11"),CardButtonGroup=(0,_classed_config__WEBPACK_IMPORTED_MODULE_2__.t)("div","hidden space-x-1 group-hover:flex"),CardInfo=(0,_classed_config__WEBPACK_IMPORTED_MODULE_2__.t)("div","mt-1 flex justify-between py-1"),CardInfoItem=(0,_classed_config__WEBPACK_IMPORTED_MODULE_2__.t)("div","flex items-center space-x-2 text-xs font-medium text-neutral-11"),CardTagGroup=(0,_classed_config__WEBPACK_IMPORTED_MODULE_2__.t)("div","inline-flex h-fit flex-wrap items-start gap-2 mt-2 h-[4rem] overflow-hidden w-full"),CardFooter=(0,_classed_config__WEBPACK_IMPORTED_MODULE_2__.t)("div","flex space-x-3");CardTitle.__docgenInfo={description:"",methods:[],displayName:"CardTitle"};try{ForwardRefExoticComponent.displayName="CardTitle",ForwardRefExoticComponent.__docgenInfo={description:"",displayName:"CardTitle",props:{mainTitle:{defaultValue:null,description:"",name:"mainTitle",required:!0,type:{name:"string"}},subTitle:{defaultValue:null,description:"",name:"subTitle",required:!0,type:{name:"string"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["ui/components/Card.tsx#CardTitle"]={docgenInfo:CardTitle.__docgenInfo,name:"CardTitle",path:"ui/components/Card.tsx#CardTitle"})}catch(__react_docgen_typescript_loader_error){}},"./ui/components/Rating.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{i:()=>Rating});var C_Users_z7155_WebstormProjects_dev_bangumi_dashboard_node_modules_pnpm_babel_runtime_7_21_0_node_modules_babel_runtime_helpers_esm_extends_js__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./node_modules/.pnpm/@babel+runtime@7.21.0/node_modules/@babel/runtime/helpers/esm/extends.js"),C_Users_z7155_WebstormProjects_dev_bangumi_dashboard_node_modules_pnpm_babel_runtime_7_21_0_node_modules_babel_runtime_helpers_esm_objectWithoutProperties_js__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./node_modules/.pnpm/@babel+runtime@7.21.0/node_modules/@babel/runtime/helpers/esm/objectWithoutProperties.js"),react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/.pnpm/react@18.2.0/node_modules/react/index.js"),_heroicons_react_24_solid__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("./node_modules/.pnpm/@heroicons+react@2.0.17_react@18.2.0/node_modules/@heroicons/react/24/solid/StarIcon.js"),_heroicons_react_24_outline__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__("./node_modules/.pnpm/@heroicons+react@2.0.17_react@18.2.0/node_modules/@heroicons/react/24/outline/StarIcon.js"),_lib_utils__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./lib/utils.ts"),_classed_config__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./classed.config.ts"),_tw_classed_react__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./node_modules/.pnpm/@tw-classed+react@1.4.4_react@18.2.0/node_modules/@tw-classed/react/dist/index.mjs"),_excluded=["color","score","maxScore","totalIconCount"],__jsx=react__WEBPACK_IMPORTED_MODULE_0__.createElement,ClassedRating=(0,_classed_config__WEBPACK_IMPORTED_MODULE_2__.t)("div",{base:"flex space-x-1",variants:{color:{primary:"text-primary-11",accent:"text-accent-11",neutral:"text-neutral-11"}},defaultVariants:{color:"neutral"}}),Rating=(0,_tw_classed_react__WEBPACK_IMPORTED_MODULE_3__.A3)((function(_ref,ref){var color=_ref.color,score=_ref.score,maxScore=_ref.maxScore,totalIconCount=_ref.totalIconCount,props=(0,C_Users_z7155_WebstormProjects_dev_bangumi_dashboard_node_modules_pnpm_babel_runtime_7_21_0_node_modules_babel_runtime_helpers_esm_objectWithoutProperties_js__WEBPACK_IMPORTED_MODULE_4__.Z)(_ref,_excluded);if(score>maxScore||score<0)return null;var rating=Math.round(score),fillStarCount=Math.floor(rating/(maxScore/totalIconCount)),halfStarCount=rating%(maxScore/totalIconCount)<maxScore/totalIconCount/2?0:1,outlineStarCount=totalIconCount-fillStarCount-halfStarCount;return __jsx(ClassedRating,(0,C_Users_z7155_WebstormProjects_dev_bangumi_dashboard_node_modules_pnpm_babel_runtime_7_21_0_node_modules_babel_runtime_helpers_esm_extends_js__WEBPACK_IMPORTED_MODULE_5__.Z)({ref,color},props),Array.from({length:fillStarCount}).map((function(_,index){return __jsx(RatingFillIcon,{key:index})})),halfStarCount>0&&__jsx(RatingHalfIcon,null),Array.from({length:outlineStarCount}).map((function(_,index){return __jsx(RatingEmptyIcon,{key:index})})))}));Rating.displayName="Rating";var RatingFillIcon=function RatingFillIcon(_ref2){var className=_ref2.className;return __jsx(_heroicons_react_24_solid__WEBPACK_IMPORTED_MODULE_6__,{"data-testid":"fill-rating-icon",className:(0,_lib_utils__WEBPACK_IMPORTED_MODULE_1__.cn)("h-4 w-4",className)})};RatingFillIcon.displayName="RatingFillIcon";var RatingEmptyIcon=function RatingEmptyIcon(_ref3){var className=_ref3.className;return __jsx(_heroicons_react_24_outline__WEBPACK_IMPORTED_MODULE_7__,{"data-testid":"empty-rating-icon",className:(0,_lib_utils__WEBPACK_IMPORTED_MODULE_1__.cn)("h-4 w-4",className)})};RatingEmptyIcon.displayName="RatingEmptyIcon";var RatingHalfIcon=function RatingHalfIcon(_ref4){var className=_ref4.className;return __jsx("span",{className:"relative"},__jsx("div",{className:"w-1/2 overflow-hidden"},__jsx(RatingFillIcon,{className})),__jsx(RatingEmptyIcon,{className:(0,_lib_utils__WEBPACK_IMPORTED_MODULE_1__.cn)("absolute top-0 left-0",className)}))};RatingHalfIcon.displayName="RatingHalfIcon"},"./components/Card/CollectionCard.stories.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{CollectionCard_:()=>CollectionCard_,default:()=>CollectionCard_stories});var react=__webpack_require__("./node_modules/.pnpm/react@18.2.0/node_modules/react/index.js"),next_image=__webpack_require__("./node_modules/.pnpm/next@13.3.0_z72xxk7vwlamvgqemvc4ptm4du/node_modules/next/image.js"),image_default=__webpack_require__.n(next_image),esm_extends=__webpack_require__("./node_modules/.pnpm/@babel+runtime@7.21.0/node_modules/@babel/runtime/helpers/esm/extends.js"),slicedToArray=__webpack_require__("./node_modules/.pnpm/@babel+runtime@7.21.0/node_modules/@babel/runtime/helpers/esm/slicedToArray.js"),objectWithoutProperties=__webpack_require__("./node_modules/.pnpm/@babel+runtime@7.21.0/node_modules/@babel/runtime/helpers/esm/objectWithoutProperties.js"),InformationCircleIcon=__webpack_require__("./node_modules/.pnpm/@heroicons+react@2.0.17_react@18.2.0/node_modules/@heroicons/react/24/outline/InformationCircleIcon.js"),panel=__webpack_require__("./lib/panel.ts"),utils=__webpack_require__("./node_modules/.pnpm/jotai@2.0.3_react@18.2.0/node_modules/jotai/esm/react/utils.mjs"),Button=__webpack_require__("./ui/components/Button.tsx"),Tooltip=__webpack_require__("./ui/components/Tooltip.tsx"),use_toast=__webpack_require__("./hooks/use-toast.ts"),next_auth_react=__webpack_require__("./node_modules/.pnpm/next-auth@4.21.1_yucv4tfv7v7nrkw2uguegj6e7e/node_modules/next-auth/react/index.js"),_excluded=["subject_id"],__jsx=react.createElement,InfoButton=(0,react.forwardRef)((function(_ref,ref){var subject_id=_ref.subject_id,props=(0,objectWithoutProperties.Z)(_ref,_excluded),_useReducerAtom=(0,utils.w4)(panel.Xk,panel.UE),dispatch=(0,slicedToArray.Z)(_useReducerAtom,2)[1],toast=(0,use_toast.p)(),session=(0,next_auth_react.useSession)().data;return __jsx(Tooltip.u,{content:"显示详情"},__jsx(Button.zx,(0,esm_extends.Z)({ref,variant:"primary",color:"accent",iconOnly:!0,onClick:function handleClick(){void 0!==session?dispatch({type:"push",value:{type:"subject",target_id:subject_id}}):toast({type:"info",title:"请等待与服务器认证..."})},"aria-label":"open-info-panel"},props),__jsx(InformationCircleIcon,{className:"h-6 w-6"})))}));InfoButton.displayName="InfoButton",InfoButton.__docgenInfo={description:"",methods:[],displayName:"InfoButton"};try{InfoButton.displayName="InfoButton",InfoButton.__docgenInfo={description:"",displayName:"InfoButton",props:{className:{defaultValue:null,description:"",name:"className",required:!1,type:{name:"string"}},subject_id:{defaultValue:null,description:"",name:"subject_id",required:!0,type:{name:"number"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["components/Button/InfoButton.tsx#InfoButton"]={docgenInfo:InfoButton.__docgenInfo,name:"InfoButton",path:"components/Button/InfoButton.tsx#InfoButton"})}catch(__react_docgen_typescript_loader_error){}var CalendarDaysIcon=__webpack_require__("./node_modules/.pnpm/@heroicons+react@2.0.17_react@18.2.0/node_modules/@heroicons/react/20/solid/CalendarDaysIcon.js"),TableCellsIcon=__webpack_require__("./node_modules/.pnpm/@heroicons+react@2.0.17_react@18.2.0/node_modules/@heroicons/react/20/solid/TableCellsIcon.js"),BookmarkIcon=__webpack_require__("./node_modules/.pnpm/@heroicons+react@2.0.17_react@18.2.0/node_modules/@heroicons/react/20/solid/BookmarkIcon.js"),Rating=__webpack_require__("./components/Rating/Rating.tsx"),Card=__webpack_require__("./ui/components/Card.tsx"),lib_utils=__webpack_require__("./lib/utils.ts"),Dialog=__webpack_require__("./ui/components/Dialog.tsx"),CardComment_jsx=react.createElement;function CardComment(_ref){var comment=_ref.comment,_useState=(0,react.useState)(!1),isClamped=_useState[0],setIsClamped=_useState[1],commentRef=(0,react.useRef)(null);return(0,react.useEffect)((function(){commentRef.current&&setIsClamped(commentRef.current.scrollHeight>commentRef.current.clientHeight+1)}),[]),CardComment_jsx(Dialog.Vq,null,CardComment_jsx(Dialog.hg,{asChild:!0},CardComment_jsx("div",{ref:commentRef,className:(0,lib_utils.cn)("whitespace-pre-wrap text-xs font-medium italic text-accent-12 line-clamp-1",isClamped&&"hover:cursor-pointer hover:not-italic")},"“ ",comment," ”")),CardComment_jsx(Dialog.cZ,null,CardComment_jsx(Dialog.dP,null,CardComment_jsx(Dialog.$N,null,"评论")),CardComment_jsx(Dialog.Be,null,comment)))}CardComment.displayName="CardComment",CardComment.__docgenInfo={description:"",methods:[],displayName:"CardComment",props:{comment:{required:!0,tsType:{name:"string"},description:""}}};try{CardComment.displayName="CardComment",CardComment.__docgenInfo={description:"",displayName:"CardComment",props:{comment:{defaultValue:null,description:"",name:"comment",required:!0,type:{name:"string"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["components/Dialog/CardComment.tsx#CardComment"]={docgenInfo:CardComment.__docgenInfo,name:"CardComment",path:"components/Dialog/CardComment.tsx#CardComment"})}catch(__react_docgen_typescript_loader_error){}var ChatBubbleLeftRightIcon=__webpack_require__("./node_modules/.pnpm/@heroicons+react@2.0.17_react@18.2.0/node_modules/@heroicons/react/24/outline/ChatBubbleLeftRightIcon.js"),ChatButton_excluded=["subject_id"],ChatButton_jsx=react.createElement,ChatButton=(0,react.forwardRef)((function(_ref,ref){_ref.subject_id;var props=(0,objectWithoutProperties.Z)(_ref,ChatButton_excluded),toast=(0,use_toast.p)();return ChatButton_jsx(Tooltip.u,{content:"显示讨论"},ChatButton_jsx(Button.zx,(0,esm_extends.Z)({variant:"primary",color:"accent",iconOnly:!0,ref,onClick:function onClick(){toast({type:"info",title:"功能尚未实现！"})},"aria-label":"open-chat-panel"},props),ChatButton_jsx(ChatBubbleLeftRightIcon,{className:"h-6 w-6"})))}));ChatButton.displayName="ChatButton",ChatButton.__docgenInfo={description:"",methods:[],displayName:"ChatButton"};try{ChatButton.displayName="ChatButton",ChatButton.__docgenInfo={description:"",displayName:"ChatButton",props:{subject_id:{defaultValue:null,description:"",name:"subject_id",required:!0,type:{name:"number"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["components/Button/ChatButton.tsx#ChatButton"]={docgenInfo:ChatButton.__docgenInfo,name:"ChatButton",path:"components/Button/ChatButton.tsx#ChatButton"})}catch(__react_docgen_typescript_loader_error){}var Badge=__webpack_require__("./ui/components/Badge.tsx"),CollectionCard_jsx=react.createElement;function CollectionCard(_ref){var collection=_ref.collection,_ref$pvMode=_ref.pvMode,pvMode=void 0!==_ref$pvMode&&_ref$pvMode;return CollectionCard_jsx(Card.Zb,null,CollectionCard_jsx(Card.CS,null,CollectionCard_jsx(image_default(),{className:"object-cover",src:collection.subject.images.common,fill:!0,unoptimized:!0,alt:"card-image"})),CollectionCard_jsx(Card.eW,null,CollectionCard_jsx(Card.Ol,null,CollectionCard_jsx(Card.ll,{mainTitle:collection.subject.name_cn||collection.subject.name,subTitle:collection.subject.name}),CollectionCard_jsx(Card.vz,null,CollectionCard_jsx(InfoButton,{subject_id:collection.subject.id}),CollectionCard_jsx(ChatButton,{subject_id:collection.subject.id}))),CollectionCard_jsx(Card.tg,null,CollectionCard_jsx(Card.cq,null,CollectionCard_jsx("span",{className:"h-4 w-4"},CollectionCard_jsx(CalendarDaysIcon,null)),CollectionCard_jsx("span",null,collection.subject.date)),CollectionCard_jsx(Card.cq,null,CollectionCard_jsx("span",{className:"h-4 w-4"},CollectionCard_jsx(TableCellsIcon,null)),CollectionCard_jsx("span",null,collection.subject.eps?"".concat(collection.ep_status," / ").concat(collection.subject.eps," 集"):"未知")),CollectionCard_jsx(Card.cq,null,CollectionCard_jsx("span",{className:"h-4 w-4"},CollectionCard_jsx(BookmarkIcon,null)),CollectionCard_jsx("span",null,collection.subject.collection_total," 人收藏"))),CollectionCard_jsx(Card.GK,null,pvMode?collection.tags.map((function(tag){return CollectionCard_jsx(Badge.C,{color:"primary",key:tag},tag)})):collection.subject.tags.map((function(tag){return CollectionCard_jsx(Badge.C,{color:"primary",key:tag.name},tag.name)})),CollectionCard_jsx("span",{className:"text-transparent"},"placeholder")),CollectionCard_jsx(Card.iR,null,CollectionCard_jsx("div",{className:"h-10 text-4xl font-bold text-accent-11"},pvMode?collection.rate||null:collection.subject.score.toFixed(1)),CollectionCard_jsx("div",{className:"flex flex-col justify-center space-y-1"},CollectionCard_jsx("div",null,CollectionCard_jsx(Rating.i,{score:pvMode?collection.rate:collection.subject.score})),collection.comment?CollectionCard_jsx(CardComment,{comment:collection.comment}):CollectionCard_jsx("span",{className:"text-xs text-neutral-11"},"未发表吐槽")))))}CollectionCard.displayName="CollectionCard",CollectionCard.__docgenInfo={description:"",methods:[],displayName:"CollectionCard",props:{pvMode:{defaultValue:{value:"false",computed:!1},required:!1,tsType:{name:"boolean"},description:""},collection:{required:!0,tsType:{name:'z.infer["data"][number]',raw:'z.infer<typeof collectionsPageScheme>["data"][number]'},description:""}}};try{CollectionCard.displayName="CollectionCard",CollectionCard.__docgenInfo={description:"",displayName:"CollectionCard",props:{collection:{defaultValue:null,description:"",name:"collection",required:!0,type:{name:"{ tags: string[]; subject: { name: string; tags: { name: string; count: number; }[]; score: number; name_cn: string; date: string; eps: number; id: number; images: { medium: string; large: string; common: string; }; type: number; collection_total: number; }; ... 7 more ...; private: boolean; }"}},pvMode:{defaultValue:{value:"false"},description:"",name:"pvMode",required:!1,type:{name:"boolean"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["components/Card/CollectionCard.tsx#CollectionCard"]={docgenInfo:CollectionCard.__docgenInfo,name:"CollectionCard",path:"components/Card/CollectionCard.tsx#CollectionCard"})}catch(__react_docgen_typescript_loader_error){}var collection=__webpack_require__("./lib/api/collection.ts"),StorybookDecorator=__webpack_require__("./ui/StorybookDecorator.tsx");const CollectionCard_stories={component:CollectionCard,decorators:[StorybookDecorator.jS,StorybookDecorator.d$]};var CollectionCard_={args:{collection:collection.X9.parse({comment:null,tags:["EVA","神作","原创"],subject:{date:"1995-10-04",images:{small:"https://lain.bgm.tv/r/200/pic/cover/l/e5/69/265_Z5Uou.jpg",grid:"https://lain.bgm.tv/r/100/pic/cover/l/e5/69/265_Z5Uou.jpg",large:"https://lain.bgm.tv/pic/cover/l/e5/69/265_Z5Uou.jpg",medium:"https://lain.bgm.tv/r/800/pic/cover/l/e5/69/265_Z5Uou.jpg",common:"https://lain.bgm.tv/r/400/pic/cover/l/e5/69/265_Z5Uou.jpg"},name:"新世紀エヴァンゲリオン",name_cn:"新世纪福音战士",short_summary:"　　2000年，一个科学探险队在南极洲针对被称作“第一使徒”亚当的“光之巨人”进行探险。在对其进行接触实验时，“光之巨人”自毁，从而发生了“第二次冲击”，进而导致世界大战。最后，人类人口减半，地轴偏转、气候改变。根据对“第二次冲击”的调查，",tags:[{name:"EVA",count:6417},{name:"庵野秀明",count:4779},{name:"GAINAX",count:3202},{name:"新世纪福音战士",count:2762},{name:"神作",count:2347},{name:"科幻",count:2050},{name:"宗教",count:1456},{name:"TV",count:1444},{name:"心理",count:1092},{name:"骗钱神棍片的王者",count:935}],score:8.9,type:2,id:265,eps:26,volumes:0,collection_total:31816,rank:9},subject_id:265,vol_status:0,ep_status:24,subject_type:2,type:2,rate:9,private:!1})}};CollectionCard_.parameters={...CollectionCard_.parameters,docs:{...CollectionCard_.parameters?.docs,source:{originalSource:"{\n  args: {\n    collection: collectionsDataScheme.parse(collectionData)\n  }\n}",...CollectionCard_.parameters?.docs?.source}}}}}]);