(self.webpackChunkbangumi_app=self.webpackChunkbangumi_app||[]).push([[7779],{"./node_modules/.pnpm/@storybook+addon-actions@7.0.7_react-dom@18.2.0_react@18.2.0/node_modules/@storybook/addon-actions/dist/index.mjs":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{aD:()=>chunk_OPEUWD42.aD});var chunk_OPEUWD42=__webpack_require__("./node_modules/.pnpm/@storybook+addon-actions@7.0.7_react-dom@18.2.0_react@18.2.0/node_modules/@storybook/addon-actions/dist/chunk-OPEUWD42.mjs");__webpack_require__("./node_modules/.pnpm/@storybook+addon-actions@7.0.7_react-dom@18.2.0_react@18.2.0/node_modules/@storybook/addon-actions/dist/chunk-VWCVBQ22.mjs")},"./ui/components/SubjectContent.stories.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{SubjectContent_:()=>SubjectContent_,SubjectContent_Auth:()=>SubjectContent_Auth,default:()=>__WEBPACK_DEFAULT_EXPORT__});var _SubjectContent_$para,_SubjectContent_$para2,_SubjectContent_$para3,_SubjectContent_Auth$,_SubjectContent_Auth$2,_SubjectContent_Auth$3,_home_zebeqo_WebstormProjects_Bangumi_node_modules_pnpm_babel_runtime_7_21_5_node_modules_babel_runtime_helpers_esm_defineProperty_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/.pnpm/@babel+runtime@7.21.5/node_modules/@babel/runtime/helpers/esm/defineProperty.js"),_home_zebeqo_WebstormProjects_Bangumi_node_modules_pnpm_babel_runtime_7_21_5_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_15__=__webpack_require__("./node_modules/.pnpm/@babel+runtime@7.21.5/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js"),react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/.pnpm/react@18.2.0/node_modules/react/index.js"),_home_zebeqo_WebstormProjects_Bangumi_node_modules_pnpm_babel_runtime_7_21_5_node_modules_babel_runtime_regenerator_index_js__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/.pnpm/@babel+runtime@7.21.5/node_modules/@babel/runtime/regenerator/index.js"),_home_zebeqo_WebstormProjects_Bangumi_node_modules_pnpm_babel_runtime_7_21_5_node_modules_babel_runtime_regenerator_index_js__WEBPACK_IMPORTED_MODULE_2___default=__webpack_require__.n(_home_zebeqo_WebstormProjects_Bangumi_node_modules_pnpm_babel_runtime_7_21_5_node_modules_babel_runtime_regenerator_index_js__WEBPACK_IMPORTED_MODULE_2__),_storybook_jest__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./node_modules/.pnpm/@storybook+jest@0.1.0/node_modules/@storybook/jest/dist/esm/index.js"),_ui_components_SubjectContent__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./ui/components/SubjectContent.tsx"),_ui_components_Badge__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./ui/components/Badge.tsx"),_ui_components_Button__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("./ui/components/Button.tsx"),_storybook_addon_actions__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__("./node_modules/.pnpm/@storybook+addon-actions@7.0.7_react-dom@18.2.0_react@18.2.0/node_modules/@storybook/addon-actions/dist/index.mjs"),_heroicons_react_20_solid__WEBPACK_IMPORTED_MODULE_12__=__webpack_require__("./node_modules/.pnpm/@heroicons+react@2.0.17_react@18.2.0/node_modules/@heroicons/react/20/solid/InboxArrowDownIcon.js"),_heroicons_react_20_solid__WEBPACK_IMPORTED_MODULE_13__=__webpack_require__("./node_modules/.pnpm/@heroicons+react@2.0.17_react@18.2.0/node_modules/@heroicons/react/20/solid/StarIcon.js"),_heroicons_react_20_solid__WEBPACK_IMPORTED_MODULE_14__=__webpack_require__("./node_modules/.pnpm/@heroicons+react@2.0.17_react@18.2.0/node_modules/@heroicons/react/20/solid/ChevronDownIcon.js"),_storybook_testing_library__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__("./node_modules/.pnpm/@storybook+testing-library@0.1.0/node_modules/@storybook/testing-library/dist/esm/index.js"),_components_DropdownMenu_MoreMenu__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__("./components/DropdownMenu/MoreMenu.tsx"),_components_Select_RatingSelect__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__("./components/Select/RatingSelect.tsx"),_components_Select_CollectionTypeSelect__WEBPACK_IMPORTED_MODULE_11__=__webpack_require__("./components/Select/CollectionTypeSelect.tsx"),__jsx=react__WEBPACK_IMPORTED_MODULE_0__.createElement;function ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);enumerableOnly&&(symbols=symbols.filter((function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable}))),keys.push.apply(keys,symbols)}return keys}function _objectSpread(target){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?ownKeys(Object(source),!0).forEach((function(key){(0,_home_zebeqo_WebstormProjects_Bangumi_node_modules_pnpm_babel_runtime_7_21_5_node_modules_babel_runtime_helpers_esm_defineProperty_js__WEBPACK_IMPORTED_MODULE_1__.Z)(target,key,source[key])})):Object.getOwnPropertyDescriptors?Object.defineProperties(target,Object.getOwnPropertyDescriptors(source)):ownKeys(Object(source)).forEach((function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key))}))}return target}const __WEBPACK_DEFAULT_EXPORT__={title:"SubjectContent"};var _play,SubjectContent_={args:{imageURL:"https://lain.bgm.tv/r/800/pic/cover/l/b7/58/302286_s3o3E.jpg",score:8,total:1768,tags:[{name:"2022年10月",count:394},{name:"死神",count:367},{name:"BLEACH",count:350},{name:"TV",count:280},{name:"热血",count:248},{name:"漫改",count:224},{name:"StudioPierrot",count:214},{name:"漫画改",count:190},{name:"JUMP",count:168},{name:"2022",count:162},{name:"战斗",count:137},{name:"爷青回",count:92},{name:"田口智久",count:39},{name:"日本动画",count:34},{name:"奇幻",count:22},{name:"久保带人",count:10},{name:"续作",count:8},{name:"2022年",count:5},{name:"ぴえろ",count:5},{name:"民工",count:4},{name:"TVA",count:4},{name:"未上映",count:4},{name:"续篇",count:4},{name:"鹭巢诗郎",count:4},{name:"民工漫",count:4},{name:"动画",count:3},{name:"10月",count:3},{name:"未确定",count:3},{name:"studioぴえろ",count:3},{name:"久保帯人",count:2}],summary:"或是偶然，或是必然——\r\n因缘际会下得到死神力量成为《死神代理》的黑崎一护，被卷入聚集现世死亡灵魂的场所·尸魂界的动乱，在激烈的战斗中，和同伴一起得到的巨大的成长。\r\n而此时一护所在的空座町发生异变。出现了新的死神和新的敌人。还有求救的声音。一护再次拿起斩魄刀，奔赴战场。\r\n另一边，尸魂界观测到现世里的虚突然连续地消失，给引导到尸魂界的灵魂提供定居场所的流魂街发生居民们出现失踪的状况，以及死神所聚集在的灵屋·静灵庭也被敌军袭击。\r\n敌军的真正身份，是灭却师的始祖·友哈巴赫率领的《无形帝国》。\r\n《无形帝国》向死神们正式宣战。\r\n「五天后，尸魂界会被“无形帝国”消灭」\r\n跨越千年死神们所背负的因果。它的宿命罪孽和隐藏的真相终将解开。\r\n一切走向终焉。黑崎一护的最后一战开始了。",onClickCollection:(0,_storybook_addon_actions__WEBPACK_IMPORTED_MODULE_7__.aD)("onClickCollection"),onClickRating:(0,_storybook_addon_actions__WEBPACK_IMPORTED_MODULE_7__.aD)("onClickRating")},render:function render(_ref){var imageURL=_ref.imageURL,score=_ref.score,total=_ref.total,tags=_ref.tags,summary=_ref.summary,onClickCollection=_ref.onClickCollection,onClickRating=_ref.onClickRating;return __jsx(_ui_components_SubjectContent__WEBPACK_IMPORTED_MODULE_4__.cd,null,__jsx(_ui_components_SubjectContent__WEBPACK_IMPORTED_MODULE_4__.X3,{src:imageURL,alt:"cover"}),__jsx(_ui_components_SubjectContent__WEBPACK_IMPORTED_MODULE_4__.Vp,null,__jsx(_ui_components_SubjectContent__WEBPACK_IMPORTED_MODULE_4__.l2,null,__jsx(_ui_components_SubjectContent__WEBPACK_IMPORTED_MODULE_4__.HH,{score,total}),__jsx(_ui_components_SubjectContent__WEBPACK_IMPORTED_MODULE_4__.qc,null),__jsx(_ui_components_SubjectContent__WEBPACK_IMPORTED_MODULE_4__.VC,null,tags.map((function(_ref2){var count=_ref2.count,name=_ref2.name;return __jsx(_ui_components_Badge__WEBPACK_IMPORTED_MODULE_5__.C,{color:"primary",key:name},name,__jsx("span",{className:"ml-1 text-neutral-11"},count))})))),__jsx(_ui_components_SubjectContent__WEBPACK_IMPORTED_MODULE_4__.vQ,{text:summary}),__jsx(_ui_components_SubjectContent__WEBPACK_IMPORTED_MODULE_4__.JB,null,__jsx(_ui_components_Button__WEBPACK_IMPORTED_MODULE_6__.zx,{variant:"primary",onClick:onClickCollection},__jsx(_heroicons_react_20_solid__WEBPACK_IMPORTED_MODULE_12__,{className:"mr-2 h-5 w-5"}),"收藏"),__jsx(_ui_components_Button__WEBPACK_IMPORTED_MODULE_6__.zx,{variant:"outline",onClick:onClickRating},__jsx("span",{className:"flex items-center space-x-1"},__jsx(_heroicons_react_20_solid__WEBPACK_IMPORTED_MODULE_13__,{className:"h-5 w-5"}),__jsx("span",null,"评分")),__jsx(_heroicons_react_20_solid__WEBPACK_IMPORTED_MODULE_14__,{className:"ml-2 h-5 w-5"})),__jsx(_components_DropdownMenu_MoreMenu__WEBPACK_IMPORTED_MODULE_9__.l,{subject_id:302286,hasCollectionData:!0}))))},play:(_play=(0,_home_zebeqo_WebstormProjects_Bangumi_node_modules_pnpm_babel_runtime_7_21_5_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_15__.Z)(_home_zebeqo_WebstormProjects_Bangumi_node_modules_pnpm_babel_runtime_7_21_5_node_modules_babel_runtime_regenerator_index_js__WEBPACK_IMPORTED_MODULE_2___default().mark((function _callee(_ref3){var canvasElement,args,canvas,collectionButton,ratingButton;return _home_zebeqo_WebstormProjects_Bangumi_node_modules_pnpm_babel_runtime_7_21_5_node_modules_babel_runtime_regenerator_index_js__WEBPACK_IMPORTED_MODULE_2___default().wrap((function _callee$(_context){for(;;)switch(_context.prev=_context.next){case 0:return canvasElement=_ref3.canvasElement,args=_ref3.args,canvas=(0,_storybook_testing_library__WEBPACK_IMPORTED_MODULE_8__.uh)(canvasElement),collectionButton=canvas.getByRole("button",{name:/收藏/i}),ratingButton=canvas.getByRole("button",{name:/评分/i}),_context.next=6,_storybook_testing_library__WEBPACK_IMPORTED_MODULE_8__.mV.click(collectionButton);case 6:return _context.next=8,(0,_storybook_jest__WEBPACK_IMPORTED_MODULE_3__.l)(args.onClickCollection).toHaveBeenCalledTimes(1);case 8:return _context.next=10,_storybook_testing_library__WEBPACK_IMPORTED_MODULE_8__.mV.click(ratingButton);case 10:return _context.next=12,(0,_storybook_jest__WEBPACK_IMPORTED_MODULE_3__.l)(args.onClickRating).toHaveBeenCalledTimes(1);case 12:case"end":return _context.stop()}}),_callee)}))),function play(_x){return _play.apply(this,arguments)})},SubjectContent_Auth={args:SubjectContent_.args,render:function render(_ref4){var imageURL=_ref4.imageURL,score=_ref4.score,total=_ref4.total,tags=_ref4.tags,summary=_ref4.summary;return __jsx(_ui_components_SubjectContent__WEBPACK_IMPORTED_MODULE_4__.cd,null,__jsx(_ui_components_SubjectContent__WEBPACK_IMPORTED_MODULE_4__.X3,{src:imageURL,alt:"cover"}),__jsx(_ui_components_SubjectContent__WEBPACK_IMPORTED_MODULE_4__.Vp,null,__jsx(_ui_components_SubjectContent__WEBPACK_IMPORTED_MODULE_4__.l2,null,__jsx(_ui_components_SubjectContent__WEBPACK_IMPORTED_MODULE_4__.HH,{score,total}),__jsx(_ui_components_SubjectContent__WEBPACK_IMPORTED_MODULE_4__.qc,null),__jsx(_ui_components_SubjectContent__WEBPACK_IMPORTED_MODULE_4__.VC,null,tags.map((function(_ref5){var count=_ref5.count,name=_ref5.name;return __jsx(_ui_components_Badge__WEBPACK_IMPORTED_MODULE_5__.C,{color:"primary",key:name},name,__jsx("span",{className:"ml-1 text-neutral-11"},count))})))),__jsx(_ui_components_SubjectContent__WEBPACK_IMPORTED_MODULE_4__.vQ,{text:summary}),__jsx(_ui_components_SubjectContent__WEBPACK_IMPORTED_MODULE_4__.JB,null,__jsx(_components_Select_CollectionTypeSelect__WEBPACK_IMPORTED_MODULE_11__.S,{defaultValue:"do"}),__jsx(_components_Select_RatingSelect__WEBPACK_IMPORTED_MODULE_10__.s,{defaultValue:"(8) 力荐"}),__jsx(_components_DropdownMenu_MoreMenu__WEBPACK_IMPORTED_MODULE_9__.l,{subject_id:302286,hasCollectionData:!0}))))}};SubjectContent_.parameters=_objectSpread(_objectSpread({},SubjectContent_.parameters),{},{docs:_objectSpread(_objectSpread({},null===(_SubjectContent_$para=SubjectContent_.parameters)||void 0===_SubjectContent_$para?void 0:_SubjectContent_$para.docs),{},{source:_objectSpread({originalSource:'{\n  args: {\n    imageURL: "https://lain.bgm.tv/r/800/pic/cover/l/b7/58/302286_s3o3E.jpg",\n    score: 8,\n    total: 1768,\n    tags: [{\n      name: "2022年10月",\n      count: 394\n    }, {\n      name: "死神",\n      count: 367\n    }, {\n      name: "BLEACH",\n      count: 350\n    }, {\n      name: "TV",\n      count: 280\n    }, {\n      name: "热血",\n      count: 248\n    }, {\n      name: "漫改",\n      count: 224\n    }, {\n      name: "StudioPierrot",\n      count: 214\n    }, {\n      name: "漫画改",\n      count: 190\n    }, {\n      name: "JUMP",\n      count: 168\n    }, {\n      name: "2022",\n      count: 162\n    }, {\n      name: "战斗",\n      count: 137\n    }, {\n      name: "爷青回",\n      count: 92\n    }, {\n      name: "田口智久",\n      count: 39\n    }, {\n      name: "日本动画",\n      count: 34\n    }, {\n      name: "奇幻",\n      count: 22\n    }, {\n      name: "久保带人",\n      count: 10\n    }, {\n      name: "续作",\n      count: 8\n    }, {\n      name: "2022年",\n      count: 5\n    }, {\n      name: "ぴえろ",\n      count: 5\n    }, {\n      name: "民工",\n      count: 4\n    }, {\n      name: "TVA",\n      count: 4\n    }, {\n      name: "未上映",\n      count: 4\n    }, {\n      name: "续篇",\n      count: 4\n    }, {\n      name: "鹭巢诗郎",\n      count: 4\n    }, {\n      name: "民工漫",\n      count: 4\n    }, {\n      name: "动画",\n      count: 3\n    }, {\n      name: "10月",\n      count: 3\n    }, {\n      name: "未确定",\n      count: 3\n    }, {\n      name: "studioぴえろ",\n      count: 3\n    }, {\n      name: "久保帯人",\n      count: 2\n    }],\n    summary: "或是偶然，或是必然——\\r\\n因缘际会下得到死神力量成为《死神代理》的黑崎一护，被卷入聚集现世死亡灵魂的场所·尸魂界的动乱，在激烈的战斗中，和同伴一起得到的巨大的成长。\\r\\n而此时一护所在的空座町发生异变。出现了新的死神和新的敌人。还有求救的声音。一护再次拿起斩魄刀，奔赴战场。\\r\\n另一边，尸魂界观测到现世里的虚突然连续地消失，给引导到尸魂界的灵魂提供定居场所的流魂街发生居民们出现失踪的状况，以及死神所聚集在的灵屋·静灵庭也被敌军袭击。\\r\\n敌军的真正身份，是灭却师的始祖·友哈巴赫率领的《无形帝国》。\\r\\n《无形帝国》向死神们正式宣战。\\r\\n「五天后，尸魂界会被“无形帝国”消灭」\\r\\n跨越千年死神们所背负的因果。它的宿命罪孽和隐藏的真相终将解开。\\r\\n一切走向终焉。黑崎一护的最后一战开始了。",\n    onClickCollection: action("onClickCollection"),\n    onClickRating: action("onClickRating")\n  },\n  render: ({\n    imageURL,\n    score,\n    total,\n    tags,\n    summary,\n    onClickCollection,\n    onClickRating\n  }) => <SubjectContent>\n      <SubjectContentImage src={imageURL} alt="cover" />\n      <SubjectContentInfo>\n        <SubjectContentInfoHeader>\n          <SubjectContentRating score={score} total={total} />\n          <SubjectContentInfoHeaderDivider />\n          <SubjectContentTagGroup>\n            {tags.map(({\n            count,\n            name\n          }) => <Badge color="primary" key={name}>\n                {name}\n                <span className="ml-1 text-neutral-11">{count}</span>\n              </Badge>)}\n          </SubjectContentTagGroup>\n        </SubjectContentInfoHeader>\n        <SubjectContentInfoText text={summary} />\n        <SubjectContentInfoFooter>\n          <Button variant="primary" onClick={onClickCollection}>\n            <InboxArrowDownIcon className="mr-2 h-5 w-5" />\n            收藏\n          </Button>\n          <Button variant="outline" onClick={onClickRating}>\n            <span className="flex items-center space-x-1">\n              <StarIcon className="h-5 w-5" />\n              <span>评分</span>\n            </span>\n            <ChevronDownIcon className="ml-2 h-5 w-5" />\n          </Button>\n          <MoreMenu subject_id={302286} hasCollectionData />\n        </SubjectContentInfoFooter>\n      </SubjectContentInfo>\n    </SubjectContent>,\n  play: async ({\n    canvasElement,\n    args\n  }) => {\n    const canvas = within(canvasElement);\n    const collectionButton = canvas.getByRole("button", {\n      name: /收藏/i\n    });\n    const ratingButton = canvas.getByRole("button", {\n      name: /评分/i\n    });\n    await userEvent.click(collectionButton);\n    await expect(args.onClickCollection).toHaveBeenCalledTimes(1);\n    await userEvent.click(ratingButton);\n    await expect(args.onClickRating).toHaveBeenCalledTimes(1);\n  }\n}'},null===(_SubjectContent_$para2=SubjectContent_.parameters)||void 0===_SubjectContent_$para2||null===(_SubjectContent_$para3=_SubjectContent_$para2.docs)||void 0===_SubjectContent_$para3?void 0:_SubjectContent_$para3.source)})}),SubjectContent_Auth.parameters=_objectSpread(_objectSpread({},SubjectContent_Auth.parameters),{},{docs:_objectSpread(_objectSpread({},null===(_SubjectContent_Auth$=SubjectContent_Auth.parameters)||void 0===_SubjectContent_Auth$?void 0:_SubjectContent_Auth$.docs),{},{source:_objectSpread({originalSource:'{\n  args: SubjectContent_.args,\n  render: ({\n    imageURL,\n    score,\n    total,\n    tags,\n    summary\n  }) => <SubjectContent>\n      <SubjectContentImage src={imageURL} alt="cover" />\n      <SubjectContentInfo>\n        <SubjectContentInfoHeader>\n          <SubjectContentRating score={score} total={total} />\n          <SubjectContentInfoHeaderDivider />\n          <SubjectContentTagGroup>\n            {tags.map(({\n            count,\n            name\n          }) => <Badge color="primary" key={name}>\n                {name}\n                <span className="ml-1 text-neutral-11">{count}</span>\n              </Badge>)}\n          </SubjectContentTagGroup>\n        </SubjectContentInfoHeader>\n        <SubjectContentInfoText text={summary} />\n        <SubjectContentInfoFooter>\n          <CollectionTypeSelect defaultValue="do" />\n          <RatingSelect defaultValue="(8) 力荐" />\n          <MoreMenu subject_id={302286} hasCollectionData />\n        </SubjectContentInfoFooter>\n      </SubjectContentInfo>\n    </SubjectContent>\n}'},null===(_SubjectContent_Auth$2=SubjectContent_Auth.parameters)||void 0===_SubjectContent_Auth$2||null===(_SubjectContent_Auth$3=_SubjectContent_Auth$2.docs)||void 0===_SubjectContent_Auth$3?void 0:_SubjectContent_Auth$3.source)})})},"?1f41":()=>{}}]);