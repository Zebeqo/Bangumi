(self.webpackChunkbangumi_app=self.webpackChunkbangumi_app||[]).push([[128],{"./node_modules/.pnpm/@storybook+addon-actions@7.0.7_react-dom@18.2.0_react@18.2.0/node_modules/@storybook/addon-actions/dist/index.mjs":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{aD:()=>chunk_OPEUWD42.aD});var chunk_OPEUWD42=__webpack_require__("./node_modules/.pnpm/@storybook+addon-actions@7.0.7_react-dom@18.2.0_react@18.2.0/node_modules/@storybook/addon-actions/dist/chunk-OPEUWD42.mjs");__webpack_require__("./node_modules/.pnpm/@storybook+addon-actions@7.0.7_react-dom@18.2.0_react@18.2.0/node_modules/@storybook/addon-actions/dist/chunk-VWCVBQ22.mjs")},"./ui/components/Switch.stories.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{Switch_:()=>Switch_,default:()=>Switch_stories});var defineProperty=__webpack_require__("./node_modules/.pnpm/@babel+runtime@7.21.5/node_modules/@babel/runtime/helpers/esm/defineProperty.js"),asyncToGenerator=__webpack_require__("./node_modules/.pnpm/@babel+runtime@7.21.5/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js"),react=__webpack_require__("./node_modules/.pnpm/react@18.2.0/node_modules/react/index.js"),regenerator=__webpack_require__("./node_modules/.pnpm/@babel+runtime@7.21.5/node_modules/@babel/runtime/regenerator/index.js"),regenerator_default=__webpack_require__.n(regenerator),esm=__webpack_require__("./node_modules/.pnpm/@storybook+jest@0.1.0/node_modules/@storybook/jest/dist/esm/index.js"),objectDestructuringEmpty=__webpack_require__("./node_modules/.pnpm/@babel+runtime@7.21.5/node_modules/@babel/runtime/helpers/esm/objectDestructuringEmpty.js"),esm_extends=__webpack_require__("./node_modules/.pnpm/@babel+runtime@7.21.5/node_modules/@babel/runtime/helpers/esm/extends.js"),helpers_esm_extends=__webpack_require__("./node_modules/.pnpm/@babel+runtime@7.21.0/node_modules/@babel/runtime/helpers/esm/extends.js"),index_module=__webpack_require__("./node_modules/.pnpm/@radix-ui+primitive@1.0.0/node_modules/@radix-ui/primitive/dist/index.module.js"),dist_index_module=__webpack_require__("./node_modules/.pnpm/@radix-ui+react-compose-refs@1.0.0_react@18.2.0/node_modules/@radix-ui/react-compose-refs/dist/index.module.js"),react_context_dist_index_module=__webpack_require__("./node_modules/.pnpm/@radix-ui+react-context@1.0.0_react@18.2.0/node_modules/@radix-ui/react-context/dist/index.module.js"),react_use_controllable_state_dist_index_module=__webpack_require__("./node_modules/.pnpm/@radix-ui+react-use-controllable-state@1.0.0_react@18.2.0/node_modules/@radix-ui/react-use-controllable-state/dist/index.module.js"),react_use_previous_dist_index_module=__webpack_require__("./node_modules/.pnpm/@radix-ui+react-use-previous@1.0.0_react@18.2.0/node_modules/@radix-ui/react-use-previous/dist/index.module.js"),react_use_size_dist_index_module=__webpack_require__("./node_modules/.pnpm/@radix-ui+react-use-size@1.0.0_react@18.2.0/node_modules/@radix-ui/react-use-size/dist/index.module.js"),react_primitive_dist_index_module=__webpack_require__("./node_modules/.pnpm/@radix-ui+react-primitive@1.0.2_react-dom@18.2.0_react@18.2.0/node_modules/@radix-ui/react-primitive/dist/index.module.js");const[$6be4966fd9bbc698$var$createSwitchContext,$6be4966fd9bbc698$export$cf7f5f17f69cbd43]=(0,react_context_dist_index_module.b)("Switch"),[$6be4966fd9bbc698$var$SwitchProvider,$6be4966fd9bbc698$var$useSwitchContext]=$6be4966fd9bbc698$var$createSwitchContext("Switch"),$6be4966fd9bbc698$export$b5d5cf8927ab7262=(0,react.forwardRef)(((props,forwardedRef)=>{const{__scopeSwitch,name,checked:checkedProp,defaultChecked,required,disabled,value="on",onCheckedChange,...switchProps}=props,[button,setButton]=(0,react.useState)(null),composedRefs=(0,dist_index_module.e)(forwardedRef,(node=>setButton(node))),hasConsumerStoppedPropagationRef=(0,react.useRef)(!1),isFormControl=!button||Boolean(button.closest("form")),[checked=!1,setChecked]=(0,react_use_controllable_state_dist_index_module.T)({prop:checkedProp,defaultProp:defaultChecked,onChange:onCheckedChange});return(0,react.createElement)($6be4966fd9bbc698$var$SwitchProvider,{scope:__scopeSwitch,checked,disabled},(0,react.createElement)(react_primitive_dist_index_module.WV.button,(0,helpers_esm_extends.Z)({type:"button",role:"switch","aria-checked":checked,"aria-required":required,"data-state":$6be4966fd9bbc698$var$getState(checked),"data-disabled":disabled?"":void 0,disabled,value},switchProps,{ref:composedRefs,onClick:(0,index_module.M)(props.onClick,(event=>{setChecked((prevChecked=>!prevChecked)),isFormControl&&(hasConsumerStoppedPropagationRef.current=event.isPropagationStopped(),hasConsumerStoppedPropagationRef.current||event.stopPropagation())}))})),isFormControl&&(0,react.createElement)($6be4966fd9bbc698$var$BubbleInput,{control:button,bubbles:!hasConsumerStoppedPropagationRef.current,name,value,checked,required,disabled,style:{transform:"translateX(-100%)"}}))})),$6be4966fd9bbc698$export$4d07bf653ea69106=(0,react.forwardRef)(((props,forwardedRef)=>{const{__scopeSwitch,...thumbProps}=props,context=$6be4966fd9bbc698$var$useSwitchContext("SwitchThumb",__scopeSwitch);return(0,react.createElement)(react_primitive_dist_index_module.WV.span,(0,helpers_esm_extends.Z)({"data-state":$6be4966fd9bbc698$var$getState(context.checked),"data-disabled":context.disabled?"":void 0},thumbProps,{ref:forwardedRef}))})),$6be4966fd9bbc698$var$BubbleInput=props=>{const{control,checked,bubbles=!0,...inputProps}=props,ref=(0,react.useRef)(null),prevChecked=(0,react_use_previous_dist_index_module.D)(checked),controlSize=(0,react_use_size_dist_index_module.t)(control);return(0,react.useEffect)((()=>{const input=ref.current,inputProto=window.HTMLInputElement.prototype,setChecked=Object.getOwnPropertyDescriptor(inputProto,"checked").set;if(prevChecked!==checked&&setChecked){const event=new Event("click",{bubbles});setChecked.call(input,checked),input.dispatchEvent(event)}}),[prevChecked,checked,bubbles]),(0,react.createElement)("input",(0,helpers_esm_extends.Z)({type:"checkbox","aria-hidden":!0,defaultChecked:checked},inputProps,{tabIndex:-1,ref,style:{...props.style,...controlSize,position:"absolute",pointerEvents:"none",opacity:0,margin:0}}))};function $6be4966fd9bbc698$var$getState(checked){return checked?"checked":"unchecked"}const $6be4966fd9bbc698$export$be92b6f5f03c0fe9=$6be4966fd9bbc698$export$b5d5cf8927ab7262,$6be4966fd9bbc698$export$6521433ed15a34db=$6be4966fd9bbc698$export$4d07bf653ea69106;var utils=__webpack_require__("./lib/utils.ts"),classed_config=__webpack_require__("./classed.config.ts"),dist=__webpack_require__("./node_modules/.pnpm/@tw-classed+react@1.4.4_react@18.2.0/node_modules/@tw-classed/react/dist/index.mjs"),__jsx=react.createElement,ClassedSwitchRoot=(0,classed_config.t)($6be4966fd9bbc698$export$be92b6f5f03c0fe9,{base:"group radix-state-unchecked:bg-neutral-4 dark:radix-state-unchecked:bg-gray-800 relative inline-flex h-[24px] w-[44px] flex-shrink-0 cursor-pointer rounded-full border-2 border-transparent transition-colors duration-200 ease-in-out focus:outline-none",variants:{color:{primary:"radix-state-checked:bg-primary-10",accent:"radix-state-checked:bg-accent-10",neutral:"radix-state-checked:bg-neutral-10"}},defaultVariants:{color:"neutral"}}),Switch=(0,dist.A3)((function(_ref,ref){var props=(0,esm_extends.Z)({},((0,objectDestructuringEmpty.Z)(_ref),_ref));return __jsx(ClassedSwitchRoot,(0,esm_extends.Z)({ref},props),__jsx($6be4966fd9bbc698$export$6521433ed15a34db,{className:(0,utils.cn)("group-radix-state-checked:translate-x-5","group-radix-state-unchecked:translate-x-0","pointer-events-none inline-block h-[20px] w-[20px] transform rounded-full bg-white shadow-lg ring-0 transition duration-200 ease-in-out")}))}));Switch.displayName=$6be4966fd9bbc698$export$be92b6f5f03c0fe9.displayName;var _Switch_$parameters,_Switch_$parameters2,_Switch_$parameters2$,addon_actions_dist=__webpack_require__("./node_modules/.pnpm/@storybook+addon-actions@7.0.7_react-dom@18.2.0_react@18.2.0/node_modules/@storybook/addon-actions/dist/index.mjs"),dist_esm=__webpack_require__("./node_modules/.pnpm/@storybook+testing-library@0.1.0/node_modules/@storybook/testing-library/dist/esm/index.js"),Switch_stories_jsx=react.createElement;function ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);enumerableOnly&&(symbols=symbols.filter((function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable}))),keys.push.apply(keys,symbols)}return keys}function _objectSpread(target){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?ownKeys(Object(source),!0).forEach((function(key){(0,defineProperty.Z)(target,key,source[key])})):Object.getOwnPropertyDescriptors?Object.defineProperties(target,Object.getOwnPropertyDescriptors(source)):ownKeys(Object(source)).forEach((function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key))}))}return target}const Switch_stories={title:"Switch",component:Switch,argTypes:{color:{control:{type:"radio"},options:["primary","accent","neutral"]}}};var _play,Switch_={args:{color:"accent",onCheckedChange:(0,addon_actions_dist.aD)("checked change")},render:function render(_ref){var color=_ref.color,onCheckedChange=_ref.onCheckedChange;return Switch_stories_jsx(Switch,{color,onCheckedChange})},play:(_play=(0,asyncToGenerator.Z)(regenerator_default().mark((function _callee(_ref2){var canvasElement,args,canvas,switchEl;return regenerator_default().wrap((function _callee$(_context){for(;;)switch(_context.prev=_context.next){case 0:return canvasElement=_ref2.canvasElement,args=_ref2.args,canvas=(0,dist_esm.uh)(canvasElement),switchEl=canvas.getByRole("switch"),_context.next=5,dist_esm.mV.click(switchEl);case 5:return _context.next=7,(0,esm.l)(args.onCheckedChange).toHaveBeenCalledTimes(1);case 7:case"end":return _context.stop()}}),_callee)}))),function play(_x){return _play.apply(this,arguments)})};Switch_.parameters=_objectSpread(_objectSpread({},Switch_.parameters),{},{docs:_objectSpread(_objectSpread({},null===(_Switch_$parameters=Switch_.parameters)||void 0===_Switch_$parameters?void 0:_Switch_$parameters.docs),{},{source:_objectSpread({originalSource:'{\n  args: {\n    color: "accent",\n    onCheckedChange: action("checked change")\n  },\n  render: ({\n    color,\n    onCheckedChange\n  }) => {\n    return <Switch color={color} onCheckedChange={onCheckedChange} />;\n  },\n  play: async ({\n    canvasElement,\n    args\n  }) => {\n    const canvas = within(canvasElement);\n    const switchEl = canvas.getByRole("switch");\n    await userEvent.click(switchEl);\n    await expect(args.onCheckedChange).toHaveBeenCalledTimes(1);\n  }\n}'},null===(_Switch_$parameters2=Switch_.parameters)||void 0===_Switch_$parameters2||null===(_Switch_$parameters2$=_Switch_$parameters2.docs)||void 0===_Switch_$parameters2$?void 0:_Switch_$parameters2$.source)})})},"?1f41":()=>{}}]);